datasource db {
  provider = "postgres"
  url      = env("DB_CONNECTION_URL")
}

generator client {
  provider = "prisma-client-js"
}

///explicit m-m
// default m-m relation

model User {
  id      String        @default(uuid()) @db.Uuid         @id
  email   String        @unique 	       @db.VarChar(30)
  name    String?	      @db.VarChar(30)
  surname String?	      @db.VarChar(30)
  roles RolesOnUsers[]
}

model Role {
  id    String          @default(uuid())  @db.Uuid  @id
  name  String	        @db.VarChar(30)
  users RolesOnUsers[]
}

model RolesOnUsers {
  user        User      @relation(fields: [userId], references: [id])
  userId      String    @db.Uuid // relation scalar field (used in the `@relation` attribute above)
  role        Role      @relation(fields: [roleId], references: [id])
  roleId      String    @db.Uuid // relation scalar field (used in the `@relation` attribute above)
  assignedAt  DateTime  @default(now())

  @@id([userId, roleId])
}